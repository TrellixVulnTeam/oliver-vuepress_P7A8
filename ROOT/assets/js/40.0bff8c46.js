(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{542:function(a,v,_){"use strict";_.r(v);var l=_(9),i=Object(l.a)({},(function(){var a=this,v=a.$createElement,_=a._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[_("h2",{attrs:{id:"优缺点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#优缺点"}},[a._v("#")]),a._v(" 优缺点")]),a._v(" "),_("ul",[_("li",[_("p",[a._v("优点：")]),a._v(" "),_("ul",[_("li",[a._v("可扩展：Kafka集群可以透明的扩展，增加新的服务器进集群")]),a._v(" "),_("li",[a._v("高性能：kafka性能远超过传统的ActiveMQ、RabbitMQ等，Kafka支持Batch操作")]),a._v(" "),_("li",[a._v("持久性、可靠性： Kafka 能够允许数据的持久化存储，消息被持久化到磁盘，并支持数据备份防止数据丢失，Kafka 底层的数据存储是基于 Zookeeper 存储的，Zookeeper 我们知道它的数据能够持久存储。")]),a._v(" "),_("li",[a._v("容错性：Kafka每个Partition数据会复制到几台服务器，当某个Broker失效时，Zookeeper将通知生产者和消费者从而使用其他的Broker")]),a._v(" "),_("li",[a._v("高吞吐、低延迟：kakfa 最大的特点就是收发消息非常快，kafka 每秒可以处理几十万条消息，它的最低延迟只有几毫秒。")])])]),a._v(" "),_("li",[_("p",[a._v("缺点：")]),a._v(" "),_("ul",[_("li",[a._v("重复消费：Kafka保证每条消息至少送达一次，虽然几率很小，但一条消息可能被送达多次")]),a._v(" "),_("li",[a._v("消息乱序：Kafka某一个固定的Partition内部的消息是保证有序的，如果一个Topic有多个Partition，partition之间的消息送达不保证有序")]),a._v(" "),_("li",[a._v("复杂性： Kafka需要Zookeeper的支持，Topic一般需要人工创建，部署和维护比一般MQ成本更高。")])])])]),a._v(" "),_("p",[a._v("优点：")]),a._v(" "),_("ol",[_("li",[a._v("高吞吐量：单机每秒处理几十上百万的消息量。即使存储了许多TB的消息，它也保持稳定的性\n能。")]),a._v(" "),_("li",[a._v("高性能：单节点支持上千个客户端，并保证零停机和零数据丢失。")]),a._v(" "),_("li",[a._v("持久化数据存储：将消息持久化到磁盘。通过将数据持久化到硬盘以及replication防止数据丢\n失。")]),a._v(" "),_("li",[a._v("零拷贝")]),a._v(" "),_("li",[a._v("顺序读，顺序写")]),a._v(" "),_("li",[a._v("利用Linux的页缓存")]),a._v(" "),_("li",[a._v("分布式系统，易于向外扩展。所有的Producer、Broker和Consumer都会有多个，均为分布式\n的。无需停机即可扩展机器。多个Producer、Consumer可能是不同的应用。")]),a._v(" "),_("li",[a._v("可靠性 - Kafka是分布式，分区，复制和容错的。")]),a._v(" "),_("li",[a._v("客户端状态维护：消息被处理的状态是在Consumer端维护，而不是由server端维护。当失败\n时能自动平衡。")]),a._v(" "),_("li",[a._v("支持online和offline的场景。")]),a._v(" "),_("li",[a._v("支持多种客户端语言。Kafka支持Java、.NET、PHP、Python等多种语言。")])]),a._v(" "),_("h2",{attrs:{id:"应用场景"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#应用场景"}},[a._v("#")]),a._v(" 应用场景")]),a._v(" "),_("ul",[_("li",[a._v("异步处理：\n"),_("ul",[_("li",[a._v("发送邮件、短信相关通知")])])]),a._v(" "),_("li",[a._v("应用解耦\n"),_("ul",[_("li",[a._v("用户下单后，订单系统需要通知库存系统")]),a._v(" "),_("li",[a._v("用户下单后，通知我们教务系统进行 入籍 - 进班 - 开课 通知学管服务等操作")])])]),a._v(" "),_("li",[a._v("流量削锋\n"),_("ul",[_("li",[a._v("一般在秒杀或团抢活动中使用广泛")])])]),a._v(" "),_("li",[a._v("日志收集：一个公司可以用kafka收集各个服务的log，通过kafka以统一接口服务的方式，开放给各个消费者（consumer）")]),a._v(" "),_("li",[a._v("消息系统：解耦生产者和消费者、缓存消息等\n"),_("ul",[_("li",[a._v("Kafka 和传统的消息系统（也称作消息中间件）都具备系统解耦、冗余存储、流量削峰、缓冲、异步通信、扩展性、可恢复性等功能。与此同时，Kafka 还提供了大多数消息系统难以实现的消息顺序性保障及回溯消费的功能。")])])]),a._v(" "),_("li",[a._v("用户活动跟踪：kafka经常被用来记录web用户或者app用户的各种活动，如浏览网页、搜索、点击等活动，这些活动信息被各个服务器发布到kafka的topic中，然后消费者通过订阅这些topic来做实时的监控分析，也可以保存到数据库")]),a._v(" "),_("li",[a._v("运营指标：kafka也经常用来记录运营监控数据。包括收集各种分布式应用的数据，生产各种操作的集中反馈，比如报警和报告")]),a._v(" "),_("li",[a._v("流式处理平台： Kafka 不仅为每个流行的流式处理框架提供了可靠的数据来源，还提供了一个完整的流式处理类库，比如窗口、连接、变换和聚合等各类操作。")]),a._v(" "),_("li",[a._v("存储系统： Kafka 把消息持久化到磁盘，相比于其他基于内存存储的系统而言，有效地降低了数据丢失的风险。也正是得益于 Kafka 的消息持久化功能和多副本机制，我们可以把 Kafka 作为长期的数据存储系统来使用")]),a._v(" "),_("li",[a._v("数据同步：\n"),_("ul",[_("li",[a._v("数据库数据同步，清洗\n"),_("ul",[_("li",[_("a",{attrs:{href:"https://www.cnblogs.com/throwable/p/12483983.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("基于Canal和Kafka实现MySQL的Binlog近实时同步"),_("OutboundLink")],1)])])]),a._v(" "),_("li",[_("strong",[a._v("mysql同步到elasticsearch")])]),a._v(" "),_("li",[a._v("后端应用可以将数据先写入kafka，让后让kafka异步写入mysql数据库，这样非常可以抗高峰，便于扩展。日志解析组件可以直接解析binlog日志，然后解析后的数据写入kafka，后端的服务（例如ElasticSearch，hadoop，hbase等）可以自由订阅需要的数据。")])])])])])}),[],!1,null,null,null);v.default=i.exports}}]);